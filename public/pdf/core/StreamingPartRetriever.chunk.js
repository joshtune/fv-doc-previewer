/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[14],{357:function(ha,da,f){f.r(da);var ca=f(3),aa=f(0);f.n(aa);var fa=f(1),ea=f(119);ha=f(35);var z=f(75),x=f(202),e=f(50),n=f(201);f=f(303);var y=window,r=function(){function f(f,h,r){var w=-1===f.indexOf("?")?"?":"&";switch(h){case e.a.NEVER_CACHE:this.url=f+w+"_="+Object(aa.uniqueId)();break;default:this.url=f}this.Af=r;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);this.request.setRequestHeader("X-Requested-With",
"XMLHttpRequest");this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}f.prototype.start=function(e,h){var r=this,w=this,x=this.request,y;w.ru=0;e&&Object.keys(e).forEach(function(f){r.request.setRequestHeader(f,e[f])});h&&(this.request.withCredentials=h);this.mA=setInterval(function(){var e=0===window.document.URL.indexOf("file:///");e=200===x.status||e&&0===x.status;
if(x.readyState!==n.b.DONE||e){try{x.responseText}catch(ka){return}w.ru<x.responseText.length&&(y=w.C7())&&w.trigger(f.Events.DATA,[y]);0===x.readyState&&(clearInterval(w.mA),w.trigger(f.Events.DONE))}else clearInterval(w.mA),w.trigger(f.Events.DONE,["Error received return status "+x.status])},1E3);this.request.send(null);this.status=n.a.STARTED};f.prototype.C7=function(){var e=this.request,h=e.responseText;if(0!==h.length)if(this.ru===h.length)clearInterval(this.mA),this.trigger(f.Events.DONE);else return h=
Math.min(this.ru+3E6,h.length),e=y.lO(e,this.ru,!0,h),this.ru=h,e};f.prototype.abort=function(){clearInterval(this.mA);var e=this;this.request.onreadystatechange=function(){Object(fa.h)("StreamingRequest aborted");e.status=n.a.ABORTED;return e.trigger(f.Events.ABORTED)};this.request.abort()};f.prototype.finish=function(){var e=this;this.request.onreadystatechange=function(){e.status=n.a.SUCCESS;return e.trigger(f.Events.DONE)};this.request.abort()};f.Events={DONE:"done",DATA:"data",ABORTED:"aborted"};
return f}();Object(ha.b)(r);var h;(function(e){e[e.LOCAL_HEADER=0]="LOCAL_HEADER";e[e.FILE=1]="FILE";e[e.CENTRAL_DIR=2]="CENTRAL_DIR"})(h||(h={}));var w=function(e){function f(){var f=e.call(this)||this;f.buffer="";f.state=h.LOCAL_HEADER;f.YH=4;f.xk=null;f.Sq=ea.c;f.Ml={};return f}Object(ca.c)(f,e);f.prototype.w7=function(e){var n;for(e=this.buffer+e;e.length>=this.Sq;)switch(this.state){case h.LOCAL_HEADER:this.xk=n=this.G7(e.slice(0,this.Sq));if(n.tr!==ea.g)throw Error("Wrong signature in local header: "+
n.tr);e=e.slice(this.Sq);this.state=h.FILE;this.Sq=n.eD+n.po+n.vt+this.YH;this.trigger(f.Events.HEADER,[n]);break;case h.FILE:this.xk.name=e.slice(0,this.xk.po);this.Ml[this.xk.name]=this.xk;n=this.Sq-this.YH;var r=e.slice(this.xk.po+this.xk.vt,n);this.trigger(f.Events.FILE,[this.xk.name,r,this.xk.vD]);e=e.slice(n);if(e.slice(0,this.YH)===ea.h)this.state=h.LOCAL_HEADER,this.Sq=ea.c;else return this.state=h.CENTRAL_DIR,!0}this.buffer=e;return!1};f.Events={HEADER:"header",FILE:"file"};return f}(x.a);
Object(ha.b)(w);ha=function(e){function f(f,h,n,x,y){n=e.call(this,f,n,x)||this;n.url=f;n.stream=new r(f,h);n.Hd=new w;n.TQ=window.createPromiseCapability();n.pR={};n.Af=y;return n}Object(ca.c)(f,e);f.prototype.hv=function(e){var f=this;this.request([this.ji,this.tj,this.ii]);this.stream.on(r.Events.DATA,function(h){try{if(f.Hd.w7(h))return f.stream.finish()}catch(ma){throw f.stream.abort(),f.qt(ma),e(ma),ma;}});this.stream.on(r.Events.DONE,function(h){f.e7=!0;f.TQ.resolve();h&&(f.qt(h),e(h))});this.Hd.on(w.Events.HEADER,
Object(aa.bind)(this.oR,this));this.Hd.on(w.Events.FILE,Object(aa.bind)(this.W7,this));return this.stream.start(this.Af,this.withCredentials)};f.prototype.iO=function(e){var f=this;this.TQ.promise.then(function(){e(Object.keys(f.Hd.Ml))})};f.prototype.lm=function(){return!0};f.prototype.request=function(e){var f=this;this.e7&&e.forEach(function(e){f.pR[e]||f.Zaa(e)})};f.prototype.oR=function(){};f.prototype.abort=function(){this.stream&&this.stream.abort()};f.prototype.Zaa=function(e){this.trigger(z.a.Events.PART_READY,
[{$a:e,error:"Requested part not found",sh:!1,zf:!1}])};f.prototype.W7=function(e,f,h){this.pR[e]=!0;this.trigger(z.a.Events.PART_READY,[{$a:e,data:f,sh:!1,zf:!1,error:null,Oc:h}])};return f}(z.a);Object(f.a)(ha);Object(f.b)(ha);da["default"]=ha}}]);}).call(this || window)
