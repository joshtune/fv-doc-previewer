/** Notice * This file contains works from many authors under various (but compatible) licenses. Please see core.txt for more information. **/
(function(){(window.wpCoreControlsBundle=window.wpCoreControlsBundle||[]).push([[0],{349:function(ha,da,f){f.r(da);f.d(da,"ByteRangeRequest",function(){return la});var ca=f(3),aa=f(0);f.n(aa);var fa=f(1),ea=f(119);ha=f(75);var z=f(202),x=f(54),e=f(50),n=f(201),y=f(135);f=f(303);var r=[],h=[],w=window,ba=function(){return function(){this.Lk=1}}(),ia;(function(e){e[e.UNSENT=0]="UNSENT";e[e.DONE=4]="DONE"})(ia||(ia={}));var la=function(){function e(e,h,f,r){var y=this;this.url=e;this.range=h;this.Af=f;this.withCredentials=
r;this.TV=ia;this.request=new XMLHttpRequest;this.request.open("GET",this.url,!0);w.Uint8Array&&(this.request.responseType="arraybuffer");r&&(this.request.withCredentials=r);qa.DISABLE_RANGE_HEADER||(Object(aa.isUndefined)(h.stop)?this.request.setRequestHeader("Range","bytes="+h.start):this.request.setRequestHeader("Range",["bytes=",h.start,"-",h.stop-1].join("")));this.request.setRequestHeader("X-Requested-With","XMLHttpRequest");f&&Object.keys(f).forEach(function(e){y.request.setRequestHeader(e,
f[e])});this.request.overrideMimeType?this.request.overrideMimeType("text/plain; charset=x-user-defined"):this.request.setRequestHeader("Accept-Charset","x-user-defined");this.status=n.a.NOT_STARTED}e.prototype.start=function(e){var h=this,f=this.request;f.onreadystatechange=function(){if(h.aborted)return h.status=n.a.ABORTED,e({code:n.a.ABORTED});if(this.readyState===h.TV.DONE){h.Wy();var r=0===window.document.URL.indexOf("file:///");200===f.status||206===f.status||r&&0===f.status?(r=w.lO(this),
h.Ar(r,e)):(h.status=n.a.ERROR,e({code:h.status,status:h.status}))}};this.request.send(null);this.status=n.a.STARTED};e.prototype.Ar=function(e,h){this.status=n.a.SUCCESS;if(h)return h(!1,e)};e.prototype.abort=function(){this.Wy();this.aborted=!0;this.request.abort()};e.prototype.Wy=function(){var f=Object(y.b)(this.url,this.range,h);-1!==f&&h.splice(f,1);if(0<r.length){f=r.shift();var n=new e(f.url,f.range,this.Af,this.withCredentials);f.request=n;h.push(f);n.start(Object(y.c)(f))}};e.prototype.extend=
function(e){var h=Object.assign({},this,e.prototype);h.constructor=e;return h};return e}(),qa=function(f){function n(e,h,n,r,w){n=f.call(this,e,n,r)||this;n.Nk={};n.Dx=h;n.url=e;n.DISABLE_RANGE_HEADER=!1;n.$u=la;n.RI=3;n.Af=w||{};return n}Object(ca.c)(n,f);n.prototype.Xs=function(h,f,n){var r=-1===h.indexOf("?")?"?":"&";switch(n){case !1:case e.a.NEVER_CACHE:h=h+r+"_="+Object(aa.uniqueId)();break;case !0:case e.a.CACHE:h=h+r+"_="+f.start+","+(Object(aa.isUndefined)(f.stop)?"":f.stop)}return h};n.prototype.BM=
function(e,h,f,n){void 0===f&&(f={});return new this.$u(e,h,f,n)};n.prototype.J0=function(e,f,n,w,y){for(var x=0;x<r.length;x++)if(Object(aa.isEqual)(r[x].range,f)&&Object(aa.isEqual)(r[x].url,e))return r[x].ag.push(w),r[x].Rz++,null;for(x=0;x<h.length;x++)if(Object(aa.isEqual)(h[x].range,f)&&Object(aa.isEqual)(h[x].url,e))return h[x].ag.push(w),h[x].Rz++,null;n={url:e,range:f,Dx:n,ag:[w],Rz:1};if(0===r.length&&h.length<this.RI)return h.push(n),n.request=this.BM(e,f,y,this.withCredentials),n;r.push(n);
return null};n.prototype.bm=function(e,f,n){var w=this.Xs(e,f,this.Dx);(e=this.J0(w,f,this.Dx,n,this.Af))&&e.request.start(Object(y.c)(e));return function(){var e=Object(y.b)(w,f,h);if(-1!==e){var n=--h[e].Rz;0===n&&h[e].request&&h[e].request.abort()}else e=Object(y.b)(w,f,r),-1!==e&&(n=--r[e].Rz,0===n&&r.splice(e,1))}};n.prototype.QN=function(){return{start:-ea.a}};n.prototype.G3=function(){var e=-(ea.a+ea.e);return{start:e-ea.d,end:e}};n.prototype.Oq=function(e){var h=this;this.Ix=!0;var f=ea.a;
this.bm(this.url,this.QN(),function(n,r,w){function y(){var f=h.Hd.MN();h.bm(h.url,f,function(n,r){if(n)return Object(fa.h)("Error loading central directory: "+n),e(n);r=Object(x.a)(r);if(r.length!==f.stop-f.start)return e("Invalid XOD file: Zip central directory data is wrong size! Should be "+(f.stop-f.start)+" but is "+r.length);h.Hd.fR(r);h.nD=!0;h.Ix=!1;return e(!1)})}if(n)return Object(fa.h)("Error loading end header: "+n),e(n,r,w);r=Object(x.a)(r);if(r.length!==f)return e("Invalid XOD file: Zip end header data is wrong size!");
try{h.Hd=new z.a(r)}catch(za){return e(za)}h.Hd.c5?h.bm(h.url,h.G3(),function(f,n){if(f)return Object(fa.h)("Error loading zip64 header: "+f),e(f);n=Object(x.a)(n);h.Hd.t5(n);y()}):y()})};n.prototype.iO=function(e){e(Object.keys(this.Hd.Ml))};n.prototype.PG=function(e,h){var f=this;if(this.Hd.tM(e)){var n=this.Hd.Py(e);if(n in this.Nk){var r=this.Wg[e];r.Mp=this.Nk[n];r.Mp.Lk++;r.cancel=r.Mp.cancel}else{var w=this.Hd.b2(e),y=this.bm(this.url,w,function(r,y){r?(Object(fa.h)('Error loading part "'+
e+'": '+r),f.bm(f.url,w,function(r,y){if(r)return h(r,e);f.jR(y,w,n,e,h)})):f.jR(y,w,n,e,h)}),x=this.Wg[e];x&&(x.oT=!0,x.cancel=function(){x.Mp.Lk--;0===x.Mp.Lk&&(y(),delete f.Nk[n])},this.Nk[n]=new ba(n),x.Mp=this.Nk[n],x.Mp.cancel=x.cancel)}}else delete this.Wg[e],h(Error('File not found: "'+e+'"'),e)};n.prototype.jR=function(e,h,f,n,r){if(e.length!==h.stop-h.start)r(Error("Part data is wrong size!"),n);else{do{if(!this.Nk[f])return;n=this.Nk[f].Lk;for(var w=h.Go.length,y=0;y<w;++y){var x=h.Go[y];
r(!1,x.Ao,e["string"===typeof e?"substring":"subarray"](x.start,x.stop),this.Hd.jP(x.Ao));x.Ao in this.Wg&&delete this.Wg[x.Ao]}}while(n!==this.Nk[f].Lk);delete this.Nk[f]}};n.DISABLE_RANGE_HEADER=!1;n.RI=3;return n}(ha.a);(function(e){function h(h,f,n){var r=e.call(this)||this,w;for(w in h)r[w]=h[w];r.Jea=h;r.startOffset=f;r.endOffset=n;r.BM=function(e,f,n,w){Object(aa.isUndefined)(f.stop)?(f.start+=r.endOffset,f.stop=r.endOffset):(f.start+=r.startOffset,f.stop+=r.startOffset);e=r.Xs(r.url,f,r.Dx);
return new h.$u(e,f,n,w)};return r}Object(ca.c)(h,e);return h})(qa);Object(f.a)(qa);Object(f.b)(qa);da["default"]=qa}}]);}).call(this || window)
